<div class="container">
    <div class="row">
        <div class="col-md-12 margin_45 margin_b_84" *ngIf="step===1">

            <form [formGroup]="codeVerificationForm" (ngSubmit)="verifyCode()">
                <div class="row">
                    <div class="col-12">
                        <label class="form-label-mine" for="">Kindly input your invitation code below</label>
                    </div>
                </div>

                <div class="row mb-4">
                    <div class="col-10 text-center">
                        <input id="verificationCode" maxlength="10" type="text" class="form-control"
                            formControlName="verificationCode">
                        <mat-error *ngIf="verificationCode?.errors?.['required'] && verificationCode?.touched">
                            Code is required
                        </mat-error>
                    </div>
                </div>


                <div class="row">
                    <div class="col-10 text-center">
                        <button type="submit" class="btn btn-success">CONFIRM</button>
                    </div>

                </div>

            </form>




        </div>

        <div class="col-12" *ngIf="step===2">


            <div class="row ">
                <div class="col-12 text-center">
                    <h5 class="started_heading">
                        Welcome to my party!
                    </h5>
                </div>
            </div>

            <div class="row margin_30">
                <div class="col-12 text-center">
                    <img src="{{configService.getServerUrl()+inviter.profilePicUrl}}" alt=""
                        class="img-fluid started_image">
                </div>
                <div class="col-12 text-center mt-2">
                    <h6>{{inviter.firstName}} {{inviter.lastName}}</h6>
                </div>
            </div>

            <div class="row">
                <div class="col-12 text-center">
                    <p class="paragraph_accepted">
                        Has gifted you $300 birthday shopping voucher. <br> Accept your invitation to
                        receive your gift.
                    </p>
                </div>
            </div>

            <div class="row margin_45">
                <div class="col-12 text-center">
                    <button (click)="nextStep()" class="btn btn-success">
                        GET STARTED
                    </button>
                </div>
            </div>


        </div>

        <div class="col-md-12" *ngIf="step===3">
            <form class="margin_30" [formGroup]="verifyEmailForm">
                <div class="row">
                    <div class="col-6 offset-md-2">

                        <label class="form-label-mine" for="">Enter Email</label>
                    </div>
                </div>

                <div class="row mb-4">

                    <div class="col-8">
                        <input formControlName="email" type="email" class="form-control"
                            placeholder="joedoe@gmail.com" />
                        <mat-error *ngIf="email?.errors?.['required'] && email?.touched">
                            Email is required
                        </mat-error>
                        <mat-error *ngIf="email?.errors?.['email'] && email?.touched">
                            Enter a valid Email
                        </mat-error>
                    </div>
                    <div class="col-4 text-left">
                        <button (click)="verifyEmail()" type="button" class="btn btn-success">SEND OTP</button>
                    </div>

                </div>
                <div class="row">
                    <div class="col-6 offset-md-2">

                        <label class="form-label-mine" for="">OTP</label>
                    </div>
                </div>

                <div class="row mb-4">
                    <div class="col-8">
                        <input formControlName="otp" type="text" class="form-control">
                        <mat-error *ngIf="otp?.errors?.['required'] && otp?.touched">
                            otp is required
                        </mat-error>
                    </div>
                    <div class="col-4  text-left">
                        <button (click)="verifyOTP()" class="btn btn-success">Verify OTP</button>
                    </div>
                </div>
            </form>
        </div>

        <div class="col-12" *ngIf="step===4">
            <form class="margin_45">
                <div class="row">
                    <div class="col-12">
                        <label class="form-label-mine" for="">When is your birthday?</label>
                        <i ngbTooltip="Kindly input your correct birthday information. It will affect your gifting moving foward"
                            class=" fa fa-info-circle dark" data-container="body" data-placement="top" data-html="true">
                        </i>

                    </div>
                </div>

                <div class="row mb-4">
                    <div class="col-12">
                        <div class="row">
                            <div class="col-8 offset-md-2">

                                <input name="birthDate" [(ngModel)]="birthDate" id="basicFlatpickr"
                                    class="form-control active" type="date" placeholder="June">
                                <!--<i class="fa fa-calendar fa-lg float-right calendar-birthday"></i>-->

                            </div>
                        </div>
                    </div>
                    <div class="col-2">

                    </div>
                </div>

                <div class="row margin_80">


                    <div class="col-12 text-center">
                        <button (click)="saveBirthday()" class="btn btn-success">CONFIRM</button>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-md-12" *ngIf="step===5">
            <div class="row mb-4 ">
                <div class="col-12 text-center">
                    <img src="assets/brandlogs/gift.png" alt="" class="img-fluid started_image">
                    <span class="new_gift">
                        $300
                    </span>
                </div>
            </div>

            <div class="row">
                <div class="col-12 text-center">
                    <p class="paragraph_accepted">
                        Create profile in 5 steps to utilize your gift <br>

                    </p>
                </div>
            </div>

            <div class="row margin_45 margin_b_84">
                <div class="col-12 text-center">
                    <button (click)="nextStep()" class="btn btn-success">
                        Create Profile
                    </button>
                </div>
            </div>


        </div>

        <div class="col-12 " *ngIf="step===6">


            <div class="row">
                <div class="col-12 text-center">
                    <h5 class="started_heading">
                        Step 1
                    </h5>
                </div>
            </div>



            <!-- start of the cards below -->

            <div class="row mt-4">

                <div class="col-8 text-center">
                    <h6>
                        <strong> Create your birthday log story</strong>
                    </h6>
                </div>
                <div class="col-4">
                    <button (click)="customizeLogStory()" class="btn btn-success btn-sm float-right">
                        CUSTOMIZE
                    </button>
                </div>
            </div>
            <div id="myDIV" *ngIf="showCustomLogStory">

                <div class="row my-3">
                    <div class="col-12">
                        <textarea [(ngModel)]="customLogStory" id="textarea" class="form-control textarea"
                            maxlength="240" rows="2" placeholder="This text has a limit of 240 characters."></textarea>
                    </div>
                </div>

                <div class="row">
                    <div class="col-8 text-center">

                    </div>
                    <div class="col-4">
                        <button (click)="submitCustomLogStory()" class="btn btn-success btn-sm float-right">
                            CONFIRM
                        </button>
                    </div>
                </div>
            </div>

            <div class="row my-3" *ngFor="let logStory of logStories">
                <div class="col-12">
                    <div class="card component-card_1">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-9">
                                    <p>{{logStory.text}}</p>
                                </div>

                                <div class="col-2">
                                    <button style="box-shadow: none;" class="btn btn-sm bg-white"
                                        (click)="selectLogStory(logStory)"> <i
                                            class="fa fa-plus-circle text-success fa-3x float-right"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>

        </div>

        <div class="col-md-12" *ngIf="step===7">


            <div class="row">
                <div class="col-12 text-center">
                    <h5 class="started_heading">
                        Step 2
                    </h5>
                </div>
            </div>


            <!-- start of the cards below -->

            <div class="row margin_30">
                <div class="col-12">
                    <div class="picture-container">
                        <div class="dispalyPicture" *ngIf="shopper.profilePicUrl">
                            <img class="dispalyPictureImg" src="{{displayedProfilPic}}" alt="profile picture">
                        </div>
                        <div class="picture" *ngIf="!shopper.profilePicUrl">
                            <i class="fa fa-user fa-5x" style="position: relative; top: 10px;"></i>
                            <input type="file" id="wizard-picture" class="" accept="image/*"
                                (change)="profilePicFileChange($event)">
                        </div>
                        <i style="color:black; position: relative; left: 40px; bottom: 30px; font-size: 22px;"
                            class="fa fa-camera"></i>
                    </div>
                </div>
            </div>

            <div class="row margin_30">
                <div class="col-12 text-center">
                    <button (click)="confirmPictureUpload()" class="btn btn-success btn-sm">CONFIRM</button>
                </div>
            </div>

            <div class="margin_30"></div>




        </div>

        <div class="col-md-12 " *ngIf="step===8">

            <div class="row">
                <div class="col-12 text-center">
                    <h5 class="started_heading">
                        Step 3
                    </h5>
                </div>
            </div>

            <!-- start of the cards below -->

            <div class="row mt-4">
                <div class="col-8">
                    <p>
                        Thank your host for being caring with a chat.
                    </p>
                </div>
                <div class="col-4">
                    <button (click)="customizeThankYouMessage()" class="btn btn-success btn-sm float-right">
                        CUSTOMIZE
                    </button>
                </div>

                <div class="col-12" id="myDIV" *ngIf="showCustomThankYouMessage">

                    <div class="row my-3">
                        <div class="col-12">
                            <textarea [(ngModel)]="customThankYouMessage" id="textarea" class="form-control textarea"
                                maxlength="120" rows="2"
                                placeholder="This text has a limit of 120 characters."></textarea>
                        </div>

                        <div class="col-4 offset-8">
                            <button (click)="submitCustomThankYouMessage()" class="btn btn-success btn-sm float-right">
                                CONFIRM
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col-12" *ngFor="let thankInviterMessage of thankInviterMessages">
                    <div class="card component-card_1">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-9">
                                    <p>
                                        {{thankInviterMessage}}
                                    </p>
                                </div>

                                <div class="col-2">
                                    <button class="btn btn-sm bg-white" style="box-shadow: none;"
                                        (click)="selectThankInviterMessage(thankInviterMessage)">
                                        <i class="fa fa-plus-circle text-success fa-3x float-right"></i>
                                    </button>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </div>


        <div class="col-md-12 " *ngIf="step===9">
            <div class="row">
                <div class="col-12 text-center">
                    <h5 class="started_heading">
                        Step 4
                    </h5>
                </div>
            </div>

            <!-- start of the cards below -->

            <div class="row">
                <div class="col-12">
                    <div class="row">
                        <div class="col-12 text-center">
                            <p>
                                Select your prefered birthday fun activities to utilize your $300 <br>
                                birthday shopping voucher.
                            </p>
                        </div>

                    </div>


                    <div class="row">
                        <div class="col-12 text-center">
                            <img src="assets/brandlogs/collagne.jpeg" class="img-fluid collagne_img" alt="">
                        </div>
                    </div>



                    <div class="row margin_30">
                        <div class="col-12 text-center">
                            <button (click)="nextStep()" class="btn btn-success">SELECT ACTIVITIES</button>
                        </div>
                    </div>






                </div>
            </div>



        </div>

        <div class="col-12 flex" *ngIf="step===10">
            <div id="activitiesHeader" class="col-12 activitiesHeader">
                <!-- <div class="widget widget-chart-three">                                   
                    <div class="widget-content">   -->

                <!--Carousel Wrapper-->
                <h6 class="text-success text-center">
                    Select three Activities
                </h6>

                <style>
                    .steps-form {
                        display: table;
                        width: 100%;
                        position: relative;
                    }

                    .steps-form .steps-row {
                        display: table-row;
                    }

                    .steps-form .steps-row:before {
                        top: 14px;
                        bottom: 0;
                        position: absolute;
                        content: " ";
                        width: 100%;
                        height: 1px;
                        background-color: #ccc;
                    }

                    .steps-form .steps-row .steps-step {
                        display: table-cell;
                        text-align: center;
                        position: relative;
                    }

                    .steps-form .steps-row .steps-step p {
                        margin-top: 0.5rem;
                    }

                    .steps-form .steps-row .steps-step button[disabled] {
                        opacity: 1 !important;
                        filter: alpha(opacity=100) !important;
                    }

                    .steps-form .steps-row .steps-step .btn-circle {
                        width: 30px;
                        height: 30px;
                        text-align: center;
                        padding: 6px 0;
                        font-size: 12px;
                        line-height: 1.428571429;
                        border-radius: 15px;
                        margin-top: 0;
                    }
                </style>

                <div class="steps-form">
                    <div class="steps-row setup-panel">
                        <div class="steps-step">
                            <span type="button" id="step1" class="btn btn-circle"
                                [class.btn-default]="selectedBirthdayActivities.length===0"
                                [class.btn-success]="selectedBirthdayActivities.length>0">1</span>
                        </div>
                        <div class="steps-step">
                            <span type="button" id="step2" class="btn btn-circle"
                                [class.btn-default]="selectedBirthdayActivities.length===0"
                                [class.btn-success]="selectedBirthdayActivities.length>1" disabled="disabled">2</span>
                        </div>
                        <div class="steps-step">
                            <span type="button" id="step3" class="btn btn-circle"
                                [class.btn-default]="selectedBirthdayActivities.length===0"
                                [class.btn-success]="selectedBirthdayActivities.length>2" disabled="disabled">3</span>

                        </div>
                    </div>
                </div>
            </div>
            <div class="birthdayActivities">
                <div *ngFor="let birthdayActivity of birthdayActivities">

                    <div class="col-12 mt-5">
                        <div class="container">
                            <div class="bg-image fit-content">
                                <img class="img-fluid" style="max-width: 400px;object-fit: contain;"
                                    src="{{configService.getServerUrl()+birthdayActivity.imageUrl}}"
                                    class="slider_new_image" />
                            </div>
                        </div>
                    </div>

                    <div class="col-12 text-right mt-1">
                        <button (click)="selectBirthdayActivity($event,birthdayActivity)"
                            class="btn btn-success btnSelect">Select</button>
                    </div>


                    <div class="col-12 border-bottom">

                        <h5 class="text-center mt-2">{{birthdayActivity.name}}</h5>


                        <p>{{birthdayActivity.description}}</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12" *ngIf="step===11">


            <div class="row ">
                <div class="col-12 text-center">
                    <h5 class="started_heading">
                        Step 5
                    </h5>
                </div>

                <div class="col-12 text-center">
                    <img src="assets/brandlogs/ellipse-1@2x.png" alt="" class="img-fluid started_image">
                </div>

                <div class="col-12 text-center mt-2">
                    <p class="paragraph_accepted">
                        Input shopper connection value
                    </p>
                </div>


                <!-- start of the cards below -->



                <div class="col-12" *ngFor="let shopperConnectionValue of shopperConnectionValues">

                    <div class="card component-card_1">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-2">

                                    <i class="fa fa-users fa-3x brand-image" aria-hidden="true"></i>
                                </div>
                                <div class="col-7">
                                    <h5 class="mt-3">
                                        <b>{{shopperConnectionValue.text}}</b>
                                    </h5>
                                </div>

                                <div class="col-2">
                                    <button (click)="selectConnectionValue(shopperConnectionValue)"
                                        class="btn bg-white btn-sm"> <i
                                            class="fa fa-plus-circle text-success fa-3x float-right"></i></button>
                                </div>


                            </div>
                        </div>
                    </div>



                </div>

            </div>
        </div>
        <div class="col-12" *ngIf="step===12">
            <div class="row ">
                <div class="col-12 text-center">
                    <h4 class="started_heading">
                        Congratulations!
                    </h4>
                </div>
            </div>
            <div class="row my-4">
                <div class="col-12 text-center">
                    <h5 class="started_heading">
                        You have completed creating your profile
                    </h5>
                </div>
            </div>

            <div class="row mb-4">
                <div class="col-10 text-center">
                    <span class="text-success terms_amount">$300</span>
                    <img src="assets/brandlogs/fina_gift.png" alt="" class="img-fluid terms_of_use_image">
                </div>
            </div>

            <div class="row margin_45">
                <div class="col-12 text-center">
                    <div class="n-chk">
                        <label class="new-control new-checkbox">
                            <input [(ngModel)]="acceptedTermsAndConditions" type="checkbox" class="new-control-input"
                                (change)="changeShopper();" />
                            <span class="new-control-indicator"></span>
                            <p>
                                I have read and accepted the <a href="#" class="mr-2 ml-2 text-primary"> Terms
                                </a> of Use

                            </p>
                        </label>
                    </div>
                </div>
            </div>

            <div class="row margin_30">
                <div class="col-12 text-center">
                    <button (click)="nextStep()" class="btn btn-success" [disabled]="!acceptedTermsAndConditions">
                        Complete
                    </button>
                </div>
            </div>


        </div>

        <div class="col-12" *ngIf="step===13">

            <form [formGroup]="shopperDetailsForm">
                <div class="row">
                    <div class="col-12">
                        <label class="form-label-mine" for="">Enter First Name</label>
                    </div>
                </div>

                <div class="row mb-4">

                    <div class="col-12">
                        <input formControlName="firstName" type="text" class="form-control" />
                    </div>
                    <mat-error *ngIf="firstName?.errors?.['required'] && firstName?.touched">
                        firstName is required
                    </mat-error>
                </div>

                <div class="row">
                    <div class="col-12">

                        <label class="form-label-mine" for="">Enter Last Name</label>
                    </div>
                </div>

                <div class="row mb-4">

                    <div class="col-12">
                        <input formControlName="lastName" type="text" class="form-control" />
                    </div>
                    <mat-error *ngIf="lastName?.errors?.['required'] && lastName?.touched">
                        lastName is required
                    </mat-error>

                </div>

                <div class="row">
                    <div class="col-12">

                        <label class="form-label-mine" for="">Select Gender</label>
                    </div>
                </div>

                <div class="row mb-4">

                    <div class="col-12">
                        <select formControlName="gender" class="form-control">
                            <option>Select gender</option>
                            <option>Female</option>
                            <option>Male</option>
                            <option>Other</option>
                        </select>
                    </div>
                    <mat-error *ngIf="gender?.errors?.['required'] && gender?.touched">
                        Gender is required
                    </mat-error>

                </div>

                <!-- <div class="col-12" *ngFor="let shopperConnectionValue of shopperConnectionValues">
                    <div class="card component-card_1">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-2">
                                    <i class="fa fa-users fa-3x brand-image" aria-hidden="true"></i>
                                </div>
                                <div class="col-7">
                                    <h5 class="mt-3">
                                        <b>{{shopperConnectionValue.text}}</b>
                                    </h5>
                                </div>
                                <div class="col-2">
                                    <button (click)="selectConnectionValue(shopperConnectionValue)"
                                        class="btn bg-white btn-sm"> <i
                                            class="fa fa-plus-circle text-success fa-3x float-right"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card component-card_1">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-2">
                                    <i class="fa fa-users fa-3x brand-image" aria-hidden="true"></i>
                                </div>
                                <div class="col-7">
                                    <h5 class="mt-3">
                                        <b>{{shopperConnectionValue.text}}</b>
                                    </h5>
                                </div>
                                <div class="col-2">
                                    <button (click)="selectConnectionValue(shopperConnectionValue)"
                                        class="btn bg-white btn-sm"> <i
                                            class="fa fa-plus-circle text-success fa-3x float-right"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card component-card_1">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-2">
                                    <i class="fa fa-users fa-3x brand-image" aria-hidden="true"></i>
                                </div>
                                <div class="col-7">
                                    <h5 class="mt-3">
                                        <b>{{shopperConnectionValue.text}}</b>
                                    </h5>
                                </div>
                                <div class="col-2">
                                    <button (click)="selectConnectionValue(shopperConnectionValue)"
                                        class="btn bg-white btn-sm"> <i
                                            class="fa fa-plus-circle text-success fa-3x float-right"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> -->

                <div class="row margin_50">

                    <div class="col-6 offset-md-2">

                    </div>
                    <div class="col-4 text-left" style="margin-bottom: 50px;">
                        <button (click)="saveCredentials()" class="btn btn-success">CONFIRM</button>
                    </div>
                </div>


            </form>


        </div>
        <div class="col-12" *ngIf="step===14">

            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="row margin_45">
                            <div class="col-12 text-center">
                                <img src="assets/brandlogs/success.png" class="img-fluid success" alt="">
                                <h5 class="started_heading mt-4">
                                    You have successfully created a profile Thank You for being part of
                                    brandlogs<br>
                                </h5>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="col-12 text-danger">{{errorMessage}}</div>
    </div>